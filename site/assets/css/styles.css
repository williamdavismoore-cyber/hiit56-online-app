/* HIIT56 v0.1 (CP17) — Brand: mostly black + red accents + white text */
:root{
  --bg:#000000;
  --fg:#ffffff;
  --accent:#e40001;
  --muted:#b7b7b7;
  --card:#0b0b0b;
  --card2:#111111;
  --border:rgba(228,0,1,.55);
  --max:1200px;
  --radius:18px;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  background:var(--bg);
  color:var(--fg);
  font-family: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
               Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
  letter-spacing:.2px;
}
a{color:var(--fg); text-decoration:none}
a:hover{opacity:.9}
.small{font-size:.88rem;color:var(--muted)}
.container{max-width:var(--max); margin:0 auto; padding:20px}
.header{
  position:sticky; top:0; z-index:50;
  backdrop-filter:saturate(140%) blur(12px);
  background:rgba(0,0,0,.7);
  border-bottom:1px solid rgba(255,255,255,.06);
}
.header-inner{
  display:flex; align-items:center; justify-content:space-between; gap:16px;
  max-width:var(--max); margin:0 auto; padding:14px 20px;
}

.backbar{
  position:relative;
  z-index:49;
  background:rgba(0,0,0,.55);
  border-bottom:1px solid rgba(255,255,255,.06);
  backdrop-filter:saturate(140%) blur(12px);
}
.backbar-inner{
  max-width:var(--max);
  margin:0 auto;
  padding:10px 20px;
  display:flex;
  gap:10px;
  align-items:center;
  flex-wrap:wrap;
}
.btn.sm{padding:8px 10px; font-size:.88rem}
.logo{display:flex; align-items:center; gap:10px}
.logo img{height:clamp(64px, 5vw, 95px); width:auto; object-fit:contain}
.nav{display:flex; align-items:center; gap:14px; flex-wrap:wrap}
.nav a{
  padding:10px 12px;
  border-radius:999px;
  border:1px solid rgba(255,255,255,.10);
  background:rgba(255,255,255,.02);
  font-size:.92rem;
}
.nav a.primary{
  border-color:rgba(228,0,1,.85);
  background:rgba(228,0,1,.12);
}
.badge{
  display:inline-block;
  font-size:.72rem;
  padding:4px 8px;
  border:1px solid rgba(228,0,1,.75);
  border-radius:999px;
  color:var(--fg);
  background:rgba(228,0,1,.10);
}

.hero{
  border:1px solid rgba(255,255,255,.10);
  border-radius:var(--radius);
  overflow:hidden;
  background:linear-gradient(160deg, rgba(228,0,1,.18), rgba(255,255,255,0) 60%);
}
.hero-grid{
  display:grid; gap:18px;
  grid-template-columns: 1.15fr .85fr;
  padding:22px;
}
@media (max-width:900px){
  .hero-grid{grid-template-columns:1fr}
}
.hero h1{margin:0 0 8px 0; font-size:2.1rem}
.hero p{margin:0 0 14px 0; color:var(--muted); line-height:1.45}
.btn{
  display:inline-flex; align-items:center; justify-content:center;
  padding:12px 16px;
  border-radius:12px;
  border:1px solid rgba(255,255,255,.12);
  background:rgba(255,255,255,.04);
  color:var(--fg);
  font-weight:650;
  cursor:pointer;
}
.btn.primary{
  border-color:rgba(228,0,1,.85);
  background:rgba(228,0,1,.18);
}
.btn:active{transform:translateY(1px)}
.btn-row{display:flex; gap:10px; flex-wrap:wrap}

.hero-video{
  border-radius:14px;
  overflow:hidden;
  border:1px solid rgba(255,255,255,.10);
  background:#050505;
  aspect-ratio:16/9;
  position:relative;
}
.hero-video video, .hero-video img{
  position:absolute; inset:0; width:100%; height:100%;
  object-fit:cover;
}
.hero-video iframe{position:absolute; inset:0; width:100%; height:100%; border:0}

.section-title{
  margin:26px 0 12px 0;
  display:flex; align-items:center; justify-content:space-between; gap:12px;
}
.section-title h2{margin:0; font-size:1.2rem}
.section-title .small{margin-left:auto}

.grid{
  display:grid;
  grid-template-columns:repeat(4,1fr);
  gap:14px;
}
@media (max-width:1100px){ .grid{grid-template-columns:repeat(3,1fr)} }
@media (max-width:760px){ .grid{grid-template-columns:repeat(2,1fr)} }
@media (max-width:480px){ .grid{grid-template-columns:1fr} }

.card{
  border-radius:16px;
  overflow:hidden;
  border:1px solid rgba(255,255,255,.09);
  background:var(--card);
  position:relative;
  min-height:140px;
}
.card .thumb{
  aspect-ratio:16/10;
  background:#050505;
  position:relative;
}
.card .thumb img{
  width:100%; height:100%; object-fit:cover; display:block;
}
.card .meta{padding:12px 12px 14px}
.card .meta .title{font-weight:700; margin:0 0 4px 0}
.card .meta .small{margin:0}
.card .pill{
  position:absolute;
  top:10px; left:10px;
  padding:6px 10px;
  border-radius:999px;
  border:1px solid rgba(0,0,0,.25);
  background:rgba(0,0,0,.55);
  font-size:.78rem;
}

.group{
  margin-bottom:24px;
}
.group h3{
  margin:0 0 10px 0;
  font-size:1rem;
  color:rgba(255,255,255,.85);
}

.toolbar{
  display:flex; gap:10px; flex-wrap:wrap;
  align-items:center;
  margin:12px 0 16px 0;
}
.input{
  flex:1 1 260px;
  padding:12px 12px;
  border-radius:12px;
  border:1px solid rgba(255,255,255,.14);
  background:rgba(255,255,255,.03);
  color:var(--fg);
}
.input::placeholder{color:rgba(255,255,255,.45)}
.kbd{
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  font-size:.85rem;
}

.banner{
  border:1px solid rgba(228,0,1,.55);
  background:rgba(228,0,1,.10);
  border-radius:14px;
  padding:12px 14px;
  margin:16px 0;
}
.banner strong{display:block; margin-bottom:4px}

.modal{
  display:none;
  position:fixed; inset:0; z-index:1000;
  background:rgba(0,0,0,.78);
  padding:18px;
}
.modal.open{display:block}
.modal-inner{
  max-width:980px;
  margin:0 auto;
  border-radius:16px;
  overflow:hidden;
  border:1px solid rgba(255,255,255,.10);
  background:#080808;
}
.modal-head{
  display:flex; justify-content:space-between; align-items:center;
  padding:10px 12px;
  border-bottom:1px solid rgba(255,255,255,.08);
}
.modal-head .title{font-weight:700}
.modal-close{
  border:1px solid rgba(255,255,255,.18);
  background:rgba(255,255,255,.06);
  color:var(--fg);
  border-radius:12px;
  padding:8px 10px;
  cursor:pointer;
}
.modal-body{
  position:relative;
  aspect-ratio:16/9;
  background:#000;
}
.modal-body iframe{
  position:absolute; inset:0;
  width:100%; height:100%;
  border:0;
}


/* Video controls (volume/mute) */
.video-controls{
  position:absolute;
  left:10px;
  bottom:10px;
  z-index:6;
  display:flex;
  align-items:center;
  gap:10px;
  padding:8px 10px;
  border-radius:999px;
  background:rgba(0,0,0,.55);
  border:1px solid rgba(255,255,255,.14);
  backdrop-filter: blur(10px);
}
.video-controls .icon-btn{
  border:1px solid rgba(255,255,255,.18);
  background:rgba(255,255,255,.06);
  color:var(--fg);
  border-radius:999px;
  padding:6px 10px;
  cursor:pointer;
  font-size:.85rem;
}
.video-controls input[type="range"]{
  width:140px;
}
.video-controls .hint{
  font-size:.72rem;
  color:rgba(255,255,255,.75);
  margin-left:4px;
}
@media (max-width:520px){
  .video-controls{left:8px; bottom:8px; gap:8px; padding:7px 9px;}
  .video-controls input[type="range"]{width:100px;}
}

/* Video loading state */
.video-loading{
  position:absolute;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  z-index:2;
  color:rgba(255,255,255,.85);
  font-size:.95rem;
  background:linear-gradient(180deg, rgba(0,0,0,.35), rgba(0,0,0,.65));
}
.video-fallback{
  position:absolute;
  inset:auto 12px 12px 12px;
  z-index:7;
  display:none;
}
.video-fallback .banner{
  margin:0;
}

/* Modal overlay actions (ex: Open workout page) */
.video-overlay-actions{
  position:absolute;
  top:10px;
  right:10px;
  z-index:5;
  display:flex;
  gap:10px;
}
.video-overlay-actions .btn{
  padding:8px 10px;
  border-radius:12px;
  background:rgba(0,0,0,.55);
  border:1px solid rgba(255,255,255,.18);
  font-weight:650;
}

.footer{
  border-top:1px solid rgba(255,255,255,.08);
  padding:26px 0;
  color:rgba(255,255,255,.65);
  margin-top:40px;
  font-size:.9rem;
}

/* TIMER UI */
.form-grid{
  display:grid;
  grid-template-columns:repeat(6,1fr);
  gap:12px;
  margin-top:12px;
  align-items:end;
}
.form-grid label{display:block}
.form-grid select, .form-grid input[type="number"], .form-grid input[type="text"]{
  width:100%;
  padding:12px 12px;
  border-radius:12px;
  border:1px solid rgba(255,255,255,.14);
  background:rgba(255,255,255,.03);
  color:var(--fg);
}

/* Dropdown option readability (CP10) */
select option{ color:#000; background:#fff; }

.form-grid input[type="range"]{width:100%}
@media (max-width:1100px){ .form-grid{grid-template-columns:repeat(3,1fr)} }
@media (max-width:680px){ .form-grid{grid-template-columns:1fr} }

.timer-run-grid{
  display:grid;
  grid-template-columns:1.2fr .8fr;
  gap:14px;
  padding:14px;
}
@media (max-width:980px){ .timer-run-grid{grid-template-columns:1fr} }

.timer-video{
  position:relative;
  border-radius:16px;
  overflow:hidden;
  border:1px solid rgba(255,255,255,.10);
  background:#050505;
  min-height:360px;
}
.timer-video-inner{
  position:absolute; inset:0;
}
.timer-video-inner iframe, .timer-video-inner img{
  position:absolute; inset:0;
  width:100%; height:100%;
  border:0;
  object-fit:cover;
}
.timer-overlay{
  position:absolute; inset:0;
  display:flex;
  flex-direction:column;
  justify-content:flex-end;
  padding:14px;
  background:linear-gradient(180deg, rgba(0,0,0,.10), rgba(0,0,0,.78));
}
.timer-overlay-top{
  position:absolute;
  top:12px; left:12px;
  display:flex;
  gap:10px;
  flex-wrap:wrap;
}
.timer-clock{
  font-size:3rem;
  font-weight:850;
  letter-spacing:.5px;
  line-height:1;
  margin-bottom:6px;
}
.timer-clock.big{font-size:4.2rem}
@media (max-width:480px){
  .timer-clock{font-size:2.5rem}
  .timer-clock.big{font-size:3.2rem}
}

.timer-controls{
  margin-top:12px;
  display:flex;
  gap:10px;
  flex-wrap:wrap;
}
.btn.danger{
  border-color:rgba(255,255,255,.22);
  background:rgba(255,255,255,.06);
}

.timer-sidebar{
  border:1px solid rgba(255,255,255,.10);
  border-radius:16px;
  padding:14px;
  background:rgba(255,255,255,.02);
}
.timeline{
  margin-top:10px;
  display:flex;
  flex-direction:column;
  gap:8px;
  max-height:420px;
  overflow:auto;
  padding-right:6px;
}
.timeline-item{
  display:flex;
  justify-content:space-between;
  gap:10px;
  padding:10px 10px;
  border-radius:12px;
  border:1px solid rgba(255,255,255,.08);
  background:rgba(0,0,0,.25);
}
.timeline-item.active{
  border-color:rgba(228,0,1,.75);
  background:rgba(228,0,1,.08);
}
.timeline-item .left{display:flex; gap:10px; align-items:center; min-width:0}
.timeline-item .name{font-weight:700; white-space:nowrap; overflow:hidden; text-overflow:ellipsis}
.timeline-item .right{white-space:nowrap; color:rgba(255,255,255,.7)}

.kind-work{border-color:rgba(46,204,113,.75) !important; background:rgba(46,204,113,.12) !important;}
.kind-rest{border-color:rgba(228,0,1,.75) !important; background:rgba(228,0,1,.12) !important;}
.kind-move-a{border-color:rgba(241,196,15,.80) !important; background:rgba(241,196,15,.12) !important;}
.kind-move-b{border-color:rgba(255,205,90,.80) !important; background:rgba(255,205,90,.12) !important;}
.kind-station{border-color:rgba(128,0,32,.80) !important; background:rgba(128,0,32,.16) !important;}

.gym-run{
  display:grid;
  grid-template-columns: 1fr 1fr 1fr;
  gap:14px;
  padding:14px;
}
@media (max-width:1100px){ .gym-run{grid-template-columns:1fr} }

.gym-board, .gym-center, .gym-right{
  border:1px solid rgba(255,255,255,.10);
  border-radius:16px;
  padding:14px;
  background:rgba(255,255,255,.02);
}

.station-grid{
  margin-top:10px;
  display:grid;
  grid-template-columns:repeat(2,1fr);
  gap:10px;
}
@media (max-width:760px){ .station-grid{grid-template-columns:1fr} }

.station-tile{
  border-radius:14px;
  border:1px solid rgba(255,255,255,.10);
  background:rgba(0,0,0,.30);
  padding:12px;
}
.station-tile .station-title{font-weight:850; margin-bottom:6px}
.station-tile .move{color:rgba(255,255,255,.85)}
.station-tile.active{
  border-color:rgba(228,0,1,.75);
  background:rgba(228,0,1,.08);
}

.badge-row{
  display:flex;
  gap:10px;
  justify-content:center;
  flex-wrap:wrap;
  margin-bottom:10px;
}



/* CP10 form controls */
.select{
  padding:12px 12px;
  border-radius:12px;
  border:1px solid rgba(255,255,255,.14);
  background:rgba(255,255,255,.03);
  color:var(--fg);
  min-height:44px;
}
.select:focus, .input:focus{
  outline:none;
  border-color:rgba(228,0,1,.75);
  box-shadow:0 0 0 3px rgba(228,0,1,.12);
}
.mono{
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  font-size:.85rem;
}

/* CP10 admin tables */
.table{
  width:100%;
  border-collapse:collapse;
  border-radius:14px;
  overflow:hidden;
  border:1px solid rgba(255,255,255,.09);
  background:rgba(255,255,255,.02);
}
.table th, .table td{
  text-align:left;
  padding:10px 10px;
  border-bottom:1px solid rgba(255,255,255,.08);
  vertical-align:top;
}
.table th{
  color:rgba(255,255,255,.85);
  font-weight:700;
  background:rgba(255,255,255,.03);
}
.table tr:last-child td{border-bottom:0}

/* Equipment UI (CP17) */
.equip-panel{
  margin-top:12px;
  padding:12px;
  border:1px solid rgba(255,255,255,.10);
  border-radius:14px;
  background:rgba(255,255,255,.02);
}
.equip-panel .title{margin:0 0 6px 0; font-weight:700}
.equip-list{display:flex; flex-wrap:wrap; gap:8px; margin-top:8px}
.equip-chip{
  border:1px solid rgba(255,255,255,.14);
  background:rgba(0,0,0,.35);
  padding:6px 10px;
  border-radius:999px;
  font-size:.86rem;
}
.equip-row{
  display:grid;
  grid-template-columns: 1fr 90px auto;
  gap:10px;
  align-items:center;
  margin-top:10px;
}
@media (max-width:520px){
  .equip-row{grid-template-columns: 1fr 80px auto}
}
.equip-row .btn{padding:8px 10px}


/* =========================
   CP19 — Timer + Builder polish
   ========================= */

.page-hero{margin:20px 0 16px}
.page-hero h1{margin:0 0 6px}
.page-hero .row{margin-top:10px}

.grid-2{
  display:grid;
  grid-template-columns: 1.2fr 1fr;
  gap:16px;
}
@media (max-width: 980px){
  .grid-2{grid-template-columns: 1fr;}
}

.stack{display:flex; flex-direction:column; gap:12px;}
.divider{height:1px; background: rgba(255,255,255,0.08); margin:14px 0;}

.h2{font-size: 1.6rem; font-weight: 700; margin:4px 0 10px;}
.h3{font-size: 1.15rem; font-weight: 700; margin:2px 0 4px;}
.muted{opacity:.75}

/* Member timer overlay behavior */
.timer-video.mode-work .timer-overlay.overlay-compact{
  position:absolute;
  left:auto;
  right:12px;
  top:12px;
  bottom:auto;
  width:min(320px, 92%);
  padding:12px 12px 10px;
  border-radius:16px;
  background: rgba(0,0,0,0.55);
  border: 1px solid rgba(255,255,255,0.14);
  backdrop-filter: blur(6px);
}
.timer-video.mode-work .timer-overlay.overlay-compact .timer-overlay-top{
  position:static;
  display:flex;
  gap:8px;
  margin-bottom:8px;
}
.timer-video.mode-work .timer-overlay.overlay-compact .timer-clock{
  font-size: 2.2rem;
  line-height: 1.05;
}
.timer-video.mode-work .timer-overlay.overlay-compact .timer-controls{
  margin-top:10px;
}
.timer-clock.big{font-size: 4rem;}

/* Next preview */
.timer-next-preview{
  margin-top:10px;
  display:flex;
  gap:10px;
  align-items:center;
  padding:10px;
  border-radius:14px;
  background: rgba(255,255,255,0.06);
  border: 1px solid rgba(255,255,255,0.10);
}
.timer-next-preview img{
  width:72px;
  height:48px;
  object-fit:cover;
  border-radius:10px;
  border: 1px solid rgba(255,255,255,0.12);
}

/* Builder slot grids */
.builder-stage{margin-top:12px}
.builder-stage-title{font-weight:700; margin:10px 0 8px}
.builder-stage-grid{
  display:grid;
  grid-template-columns: repeat(3, minmax(0,1fr));
  gap:10px;
}
@media (max-width: 980px){
  .builder-stage-grid{grid-template-columns: repeat(2, minmax(0,1fr));}
}
@media (max-width: 520px){
  .builder-stage-grid{grid-template-columns: 1fr;}
}
.builder-slot{
  padding:10px;
  border-radius:14px;
  background: rgba(255,255,255,0.04);
  border: 1px solid rgba(255,255,255,0.10);
}

.builder-station{margin-top:12px}
.builder-station-title{font-weight:700; margin:10px 0 8px}
.builder-station-grid{
  display:grid;
  grid-template-columns: repeat(2, minmax(0,1fr));
  gap:10px;
}
@media (max-width:520px){
  .builder-station-grid{grid-template-columns: 1fr;}
}


/* =========================
   CP23: Timer REST mode polish (member timer)
   ========================= */
.timer-video.mode-rest .timer-video-inner.is-active{
  opacity: .15;
  transition: opacity .18s ease;
}
.timer-video.mode-work .timer-video-inner,
.timer-video.mode-transition .timer-video-inner{
  opacity: 1;
}
.timer-video.mode-rest .timer-overlay{
  justify-content: center;
  align-items: center;
  text-align: center;
  background: rgba(0,0,0,.10);
}
.timer-video.mode-rest .timer-clock{
  color: #ff2a2a;
  font-size: clamp(72px, 10vw, 170px);
  margin: 0;
}
.timer-video.mode-rest .timer-controls{
  position: absolute;
  bottom: 12px;
  left: 12px;
  right: 12px;
  justify-content: center;
}
.timer-video.mode-rest [data-move]{
  margin-top: 10px;
  font-size: 1rem;
  opacity: .9;
}


/* CP23: Builder card padding + tidy spacing */
body[data-page="member-timer-builder"] .card,
body[data-page="biz-gym-timer-builder"] .card{
  padding: 16px;
}
body[data-page="member-timer-builder"] .card .title,
body[data-page="biz-gym-timer-builder"] .card .title{
  margin-bottom: 10px;
}


/* =========================
   CP24: YouTube-style hover controls (all videos except HERO)
   ========================= */
.video-shell .video-controls{
  opacity: 0;
  pointer-events: none;
  transition: opacity .16s ease;
}
.video-shell:hover .video-controls{
  opacity: 1;
  pointer-events: auto;
}
@media (pointer: coarse){
  .video-shell .video-controls{
    opacity: 1;
    pointer-events: auto;
  }
}


/* =========================
   CP24: Timer video double-buffer layers
   ========================= */
.timer-video-inner{
  transition: opacity .16s ease;
}
.timer-video-inner.is-hidden{
  opacity: 0 !important;
  pointer-events: none;
}
.timer-video-inner.is-active{
  opacity: 1;
}

.timer-video.mode-work .timer-video-inner.is-active,
.timer-video.mode-transition .timer-video-inner.is-active{opacity:1;}
